<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <title>Perfil do Usuário</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .perfil-container { max-width: 400px; margin: auto; border: 1px solid #ccc; padding: 20px; }
        .label { font-weight: bold; }
        button { margin-top: 20px; }
    </style>
</head>

<body>
    <div class="perfil-container">
        <h2>Perfil do Usuário</h2>
        <p><span class="label">Nome:</span> <span id="nome"></span></p>
        <p><span class="label">Data de Registro:</span> <span id="dataRegistro"></span></p>
        <p><span class="label">País:</span> <span id="pais"></span></p>
        <p><span class="label">Estado:</span> <span id="estado"></span></p>
        <button onclick="location.href='editar.html'">Editar Perfil</button>
    </div>

    <script>
        // --- Função para Carregar e Exibir os Dados do Perfil ---
        function carregarPerfil() {
            // Tenta obter o nome do usuário do localStorage. Se não existir, usa 'Nome não definido' como padrão.
            const nome = localStorage.getItem('nome') || 'Nome não definido';
            // Tenta obter a data de registro do localStorage. Se não existir, usa a data atual formatada.
            const dataRegistro = localStorage.getItem('dataRegistro') || new Date().toLocaleDateString();
            // Tenta obter o país do localStorage. Se não existir, usa 'Desconhecido' como padrão.
            const pais = localStorage.getItem('pais') || 'Desconhecido';
            // Tenta obter o estado do localStorage. Se não existir, usa 'Desconhecido' como padrão.
            const estado = localStorage.getItem('estado') || 'Desconhecido';

            // Define o conteúdo de texto dos elementos HTML com os dados do perfil.
            document.getElementById('nome').textContent = nome;
            document.getElementById('dataRegistro').textContent = dataRegistro;
            document.getElementById('pais').textContent = pais;
            document.getElementById('estado').textContent = estado;

            // --- Salva a Data de Registro se Ainda Não Existir ---
            // Verifica se a chave 'dataRegistro' não existe no localStorage.
            if (!localStorage.getItem('dataRegistro')) {
                // Se não existir, salva a data de registro atual no localStorage.
                localStorage.setItem('dataRegistro', dataRegistro);
            }
        }

        // --- Chamada da Função para Carregar o Perfil ao Carregar a Página ---
        carregarPerfil(); // Executa a função carregarPerfil assim que o script é interpretado, exibindo os dados do perfil.
    </script>
</body>
</html>